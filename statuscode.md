เมื่อสร้าง API ที่รองรับการทำงานแบบ **CRUD** (Create, Read, Update, Delete) สิ่งสำคัญคือการส่ง **HTTP status code** ที่เหมาะสมเพื่อแจ้งสถานะของคำขอกลับไปยังไคลเอนต์ นี่คือ status code ที่ควรใช้ในแต่ละกรณี:

### 1. **Create (POST)**
เมื่อสร้างข้อมูลใหม่ (เช่น การ insert ลงฐานข้อมูล):

- **201 Created**: เมื่อสร้างข้อมูลสำเร็จ
  - บางครั้งควรส่งพารามิเตอร์ `Location` ใน header เพื่อบอก URL ของ resource ที่เพิ่งถูกสร้าง เช่น:
    ```http
    HTTP/1.1 201 Created
    Location: /api/resource/123
    ```
- **400 Bad Request**: ถ้าข้อมูลที่ส่งมาไม่ถูกต้องหรือไม่ครบถ้วน
- **409 Conflict**: ถ้าข้อมูลที่พยายามสร้างเกิดซ้ำ (เช่น การสร้างข้อมูลที่มีอยู่แล้ว)

### 2. **Read (GET)**
เมื่ออ่านข้อมูล:

- **200 OK**: ส่งเมื่อการเรียกข้อมูลสำเร็จ และข้อมูลถูกส่งกลับไปใน response
- **404 Not Found**: ถ้าไม่พบข้อมูลตามที่ระบุ
- **400 Bad Request**: ถ้า request มีปัญหา (เช่น พารามิเตอร์ผิดพลาด)

### 3. **Read All (GET)**
เมื่ออ่านข้อมูลทั้งหมด:

- **200 OK**: ถ้าอ่านข้อมูลสำเร็จ และส่งรายการข้อมูลกลับไป
- **204 No Content**: ถ้าคำขอสำเร็จแต่ไม่มีข้อมูลที่จะส่งกลับ
- **400 Bad Request**: ถ้ามีปัญหากับคำขอ เช่น การกรองข้อมูลผิดพลาด

### 4. **Update (PUT/PATCH)**
เมื่อทำการอัปเดตข้อมูล:

- **200 OK**: ถ้าการอัปเดตข้อมูลสำเร็จและต้องการส่งข้อมูลที่อัปเดตแล้วกลับไป
- **204 No Content**: ถ้าการอัปเดตสำเร็จ แต่ไม่มีข้อมูลที่จะส่งกลับ
- **400 Bad Request**: ถ้าข้อมูลที่ส่งมาเพื่ออัปเดตไม่ถูกต้องหรือไม่ครบถ้วน
- **404 Not Found**: ถ้าไม่พบข้อมูลที่ต้องการอัปเดต
- **409 Conflict**: ถ้ามีปัญหาความขัดแย้งระหว่างการอัปเดต (เช่น ข้อมูลที่ขัดแย้งกับสถานะปัจจุบัน)

### 5. **Delete (DELETE)**
เมื่อทำการลบข้อมูล:

- **200 OK**: ถ้าลบสำเร็จ และต้องการส่งข้อมูลเพิ่มเติมหลังลบ
- **204 No Content**: ถ้าการลบสำเร็จ และไม่มีข้อมูลเพิ่มเติมที่จะส่ง
- **404 Not Found**: ถ้าไม่พบข้อมูลที่จะลบ
- **400 Bad Request**: ถ้าคำขอไม่ถูกต้อง เช่น พารามิเตอร์ผิดพลาด

### 6. **Status Code**
- **405 Method Not Allowed**: Method Not Allowed 

### ตัวอย่างของแต่ละคำขอพร้อมกับ status code

1. **Create** (POST):
   ```http
   POST /api/resource
   HTTP/1.1 201 Created
   Location: /api/resource/123
   ```

2. **Read** (GET):
   ```http
   GET /api/resource/123
   HTTP/1.1 200 OK
   Content-Type: application/json
   ```

3. **Read All** (GET):
   ```http
   GET /api/resource
   HTTP/1.1 200 OK
   ```

4. **Update** (PUT/PATCH):
   ```http
   PUT /api/resource/123
   HTTP/1.1 204 No Content
   ```

5. **Delete** (DELETE):
   ```http
   DELETE /api/resource/123
   HTTP/1.1 204 No Content
   ```

การใช้ status code ที่เหมาะสมจะช่วยให้ API ของคุณสามารถสื่อสารกับไคลเอนต์ได้อย่างมีประสิทธิภาพ และทำให้ไคลเอนต์สามารถจัดการกับคำตอบที่ได้รับจากเซิร์ฟเวอร์ได้ถูกต้อง